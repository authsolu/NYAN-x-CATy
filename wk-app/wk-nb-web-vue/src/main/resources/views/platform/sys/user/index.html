<!--#
layout("/layouts/platform.html"){
#-->
<div id="app" v-cloak>
    <el-row class="header navbar bg-white shadow">
        <div class="btn-group tool-button mt5">
            <el-button size="medium" @click="openAdd"><i class="ti-plus"></i> 新建用户</el-button>
        </div>
    </el-row>
    <el-row class="el-table-container">
        <section class="el-container" style="height: 100%;min-height: 500px;">
            <aside class="el-aside" style="width: 200px;border-right: 1px solid #e3e6f3">
                <el-tree
                        :props="treeData"
                        :load="loadTree"
                        lazy>
                </el-tree>
            </aside>
            <main class="el-main">
                <el-table
                        :data="tableData"
                        style="width: 100%">
                    <el-table-column
                            prop="date"
                            label="日期"
                            width="180">
                    </el-table-column>
                    <el-table-column
                            prop="name"
                            label="姓名"
                            width="180">
                    </el-table-column>
                    <el-table-column
                            prop="address"
                            label="地址">
                    </el-table-column>
                </el-table>
            </main>
        </section>
    </el-row>
</div>
<script>
    new Vue({
        el: "#app",
        data: function () {
            return {
                addDialogVisible: false,
                editDialogVisible: false,
                treeData: {
                    label: 'name',
                    children: 'zones',
                    id:'id',
                    isLeaf: 'leaf'
                },
                tableData: [{
                    date: '2016-05-02',
                    name: '王小虎',
                    address: '上海市普陀区金沙江路 1518 弄'
                }, {
                    date: '2016-05-04',
                    name: '王小虎',
                    address: '上海市普陀区金沙江路 1517 弄'
                }, {
                    date: '2016-05-01',
                    name: '王小虎',
                    address: '上海市普陀区金沙江路 1519 弄'
                }, {
                    date: '2016-05-03',
                    name: '王小虎',
                    address: '上海市普陀区金沙江路 1516 弄'
                }]
            }
        },
        methods: {
            loadTree: function (node, resolve) {
                console.log(node)
                if (node.level === 0) {
                    return resolve([{name: '单位列表',id:'xxx'}]);
                }
                if (node.level > 1) return resolve([]);
                setTimeout(function () {
                    var data = [{
                        name: 'leaf',
                        leaf: true
                    }, {
                        name: 'zone'
                    }];
                    return resolve(data);
                }, 500);
            },
            openAdd:function () {

            }
        },
        created: function () {

        }
    });
</script>
<!--#
}
#-->